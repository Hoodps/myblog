---
layout: post
title:  "API 接口"
date:   2015-06-22 15:43:59
author: Hoodps
categories: php
---

# 促销客 API 接口

-------------------------------------------------

## 概述
麦尔丹APP的开发有别于常规的PHP负责控制(Controller)和view输出形式,而改用HTML＋JS + API的方式开发。即页面(view)和页面跳转控制全部交给JS控制。PHP只负责封装好相关的api即可,以让移动端开发变得更好、更快、更强壮的最佳实践。本文档描述PHP相关API的定义。

** 当前API版本: 100 **
** 当前API域名: http://api.cuxiaoke.cn **

-------------------------------------------------

## 规范

### 请求响应

##### 通用
> 使用HTTP协议交互,数据使用JSON格式封装传输。
> 数据传输可使用GET和POST,具体参考协议
> HTTP请求地址：/User/loginq

Header信息/Company/choice
```
{
	"APPVERSION" : 100,
	"APPDEVICE" : "Andriod"
}
```
Header参数说明

|参数|数据类型|是否必须|说明|
|-|-|-|-|
|APPVERSION		|number	|Y		|版本号,100开始,整数	|
|APPDEVICE		|string	|Y		|设备,可选参数 Andriod,IOS	|

POST数据格式如
```
{
	"id" : 101,
	"name" : "张三"
}
```

请求参数说明

|参数|数据类型|是否必须|说明|
|-|-|-|-|
|id		|number	|Y		|某某ID值		|
|name	|string	|Y		|姓名			|

##### 响应示例
正确响应
```
{
    "code": 0,
    "msg": "",
    "data": {
        "name": "xxx",
        "mobi": "13999999999"
    }
}
```

错误响应
```
{
    "code": 50000,
    "msg": "系统异常",
    "data": []
}
```

响应参数说明

|参数		|数据类型	|说明			|
|-			|-			|-				|
|code		|number		|全局返回码		|
|msg		|string		|提示信息		|
|data		|array		|数据			|

##### Header信息测试

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/App/test

##### 返回示例
```
{
    "code": 0,
    "msg": "",
    "data": {
        "APPDEVICE": "IOS",
        "APPVERSION": "100"
    }
}
```



### 全局返回码说明

全局返回码说明如下：如有未知返回码请反馈给接口提供员

| 返回码		| 说明							|
| -			| -								|
| -1			| 系统繁忙，请再试				|
| 0			| 请求成功						|
| 50000		| 系统异常						|
| 50001		| 签名错误，需要清除手机的本地令牌且重新登录						|
| 50002		| 未登录，需要登录											|
| 50003		| 无法识别用户身份，需要清除手机的本地令牌且重新登录				|
| 50004		| 请求已过期						|
| 50005		| api未授权访问					|
| 50006		| 缺少参数（具体参数在msg中描述）	|
| 50007		| 参数有误（具体参数在msg中描述）	|
| 50008		| 业务逻辑限制（具体参数在msg中描述）	|
| 50009		| 缺少上传文件（具体参数在msg中描述）	|



-------------------------------------------------

## 个人中心

### 注册

开发员：m3

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/User/register

##### 请求示例
```
{
    "mobile": "15820201770",
    "password": "123456",
    "verify": "7777",
    "invitecode": ""
}
```

请求参数说明

|参数|数据类型|是否必须|说明|
|-|-|-|-|
|mobile		|string	| Y		| 手机号码		|
|password	|string	| Y		| 密码			|
|verify		|string	| Y		| 手机验证码		|
|invitecode	|string	| N		| 邀请码			|

##### 返回示例
```
{"code": 0,"msg": "ok","data": []}
```


### 登录

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/User/login

##### 请求示例
```
{
    "mobile": "15820201770",
    "password": "123456",
}
```

请求参数说明

|参数|数据类型|是否必须|说明|
|-|-|-|-|
|mobile		|string	|Y	|手机号码	|
|password	|string	|Y	|密码		|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": {
        "token": "fbb94af38ab775be53008057559e095b",
        "mobile": "18825039456",
        "name": "李夏明",
        "pic": {
            "avatar_big": "http://www.devcxk.com/Uploads/Download/user/2016-04/57147be22969c.jpg",
            "avatar_centre": "http://www.devcxk.com/Uploads/Download/user/2016-04/57147be22986b.jpg",
            "avatar_small": "http://www.devcxk.com/Uploads/Download/user/2016-04/57147be2299af.jpg"
        }
    }
}
```

返回参数说明

|参数|数据类型|描述|
|-|-|-|
|toke|string|用户令牌|
|mobile|string|手机号码
|name|string| 姓名
|pic|array|头像，avatar_big=200，avatar_centre=100，avatar_small=50


### 退出

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/User/logout

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
}
```

请求参数说明

|参数|数据类型|是否必须|说明|
|-|-|-|
|token|string|Y|用户令牌|

##### 返回示例
```
{"code": 0,"msg": "ok","data": []}
```

### 找回密码

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/User/find_password

##### 请求示例
```
{
    "mobile": "15820201770",
    "verify": "123456",
    "new_password": "111111",
    "cfm_password": "111111",
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|mobile			|string		|Y|手机号码		|
|verify			|string		|Y|手机验证码		|
|new_password	|string		|Y|新密码		|
|cfm_password	|string		|Y|确认密码		|

##### 返回示例
```
{"code": 0,"msg": "ok","data": []}
```

### 修改密码

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/User/reset_password

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
    "old_password": "123456",
    "new_password": "111111",
    "cfm_password": "111111",
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|old_password	|string		|Y|旧密码		|
|new_password	|string		|Y|新密码		|
|cfm_password	|string		|Y|确认密码		|

##### 返回示例
```
{"code": 0,"msg": "ok","data": []}
```

### 绑定手机

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/User/bind_mobile

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
    "mobile": "15820201770",
    "verify": "121221",
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|mobile			|string		|Y|新手机号		|
|verify			|string		|Y|手机验证码		|

##### 返回示例
```
{"code": 0,"msg": "ok","data": []}
```


### 更新头像

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/User/set_avatar

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
    "pic": FILE
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|pic			|file		|Y|头像文件，服务端使用 $_FILES['pic']读取	|

##### 返回示例
```
{
    "code": 0,
    "msg": "设置头像成功",
    "data": {
        "pics": {
            "avatar_big": "/Uploads/user/201604/57148acf9546a_avatar_big.jpg",
            "avatar_centre": "/Uploads/user/201604/57148acf9546a_avatar_centre.jpg",
            "avatar_small": "/Uploads/user/201604/57148acf9546a_avatar_small.jpg"
        }
    }
}
```


### 获取头像

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/User/gett_avatar

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": {
        "pic": "http://www.cuxiaoke.cn/Uploads/user_avatar/201604/5715a91f05f32.jpg"
    }
}
```


返回参数说明


|参数|数据类型|	说明|
|-|-|-|
|pic			|string		|头像路|


### 获取个人中心资料

##### 接口调用请求说明
> HTTP请求方式：Get
> HTTP请求地址：/User/info

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|

##### 返回示例
```
// 有头像
{
    "code": 0,
    "msg": "ok",
    "data": {
        "name": "龚汉勤",
        "mobile": "1582020177000",
        "email": "40129943@qq.com",
        "pic": {
            "avatar_big": "http://www.devcxk.com/Uploads/Download/user/2016-04/570bf59387437.jpg",
            "avatar_centre": "http://www.devcxk.com/Uploads/Download/user/2016-04/570bf5938f823.jpg",
            "avatar_small": "http://www.devcxk.com/Uploads/Download/user/2016-04/570bf59390407.jpg"
        },
        "interview_todo": 0,
        "hire_todo": 1,
        "invite_todo": 0
    }
}
// 没有头像
{
	"code" : 0,
	"msg" : "ok",
	"data" : {
		"name" : "",
		"mobile" : "15915765655",
		"email" : "",
		"pic" : []
	}
}

```


返回参数说明


|参数|数据类型|	说明|
|-|-|-|
|name			|string		|用户姓名	|
|mobile			|string		|用户手机	|
|email			|string		|用户邮箱	|
|pic			|array		|用户头像	|
|pic.avatar_big		|string		|大头像200*200		|
|pic.avatar_centre	|string		|中头像100*100		|
|pic.avatar_small	|string		|小头像50*50			|
|interview_todo		|number		|等待确认是否同意【面试】的数量	|
|hire_todo			|number		|等待确认是否同意【录用】的数量	|
|invite_todo		|number		|等待确认是否同意【邀请】的数量	|

------------------------------------------------

## 我的简历

### 查看简历(已删除)

** 此接口已删除,<font style="color:red">使用“编辑简历/UserResume/edit”接口获取</font> **

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/UserResume/view

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": {
        "sex": "女",
        "age": 26,
        "nation": "汉",
        "weight": 34,
        "height": 158,
        "group": "在校学生",
        "school": "中山大学",
        "education": "硕士",
        "address": "天河北路",
        "lng": 23.110327,
        "lat": 113.325157,
        "my_introduce": "",
        "province_name": "",
        "city_name": "",
        "district_name": "",
        "is_health_cert": "无",
        "name": "邓卓高",
        "email": ""
    }
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|name		|string	|	用户真实姓名|
|sex		|number	|	性别|
|age		|string	|	年龄|
|nation		|string	|	民族|
|weight		|number	|体重（kg）
|height		|number	|身高（cm）
|group		|string	|所属群体
|school		|string	|所在（毕业）院校
|education	|string	|最高学历
|school		|string	|所在（毕业）院校
|province_name	|string	|省份名称
|city_name	|string	|城市名称
|district_name	|string	|区域名称
|address	|string	|详细地址
|is_health_cert	|string |健康证
|email		|string	|邮箱
|my_introduce|string| 自我介绍


### 编辑简历

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/UserResume/edit

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": {
        "sex": 2,
        "age": 26,
        "nation": "汉",
        "weight": 34,
        "height": 158,
        "group": 2,
        "school": "中山大学",
        "education": 6,
        "province_id": 440000,
        "city_id": 440100,
        "district_id": 440105,
        "address": "天河北路",
        "lng": 23.110327,
        "lat": 113.325157,
        "is_health_cert": 1,
        "my_introduce": "",
        "sex_name": "女",
        "group_name": "在校学生",
        "education_name": "硕士",
        "is_health_cert_name": "是",
        "province_name": "",
        "city_name": "",
        "district_name": "",
        "name": "邓卓高",
        "email": "",
        "is_auth": 1,
        "is_auth_name": "是",
        "pic": {
            "avatar_big": "http://www.devcxk.com/Uploads/Download/user/2016-04/57147be22969c.jpg",
            "avatar_centre": "http://www.devcxk.com/Uploads/Download/user/2016-04/57147be22986b.jpg",
            "avatar_small": "http://www.devcxk.com/Uploads/Download/user/2016-04/57147be2299af.jpg"
        }
    }
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|name|string|   姓名
|sex|number|	性别（1：男,2：女）
|age|number|	年龄（18~50）
|nation|string|	民族
|weight|number|	体重（kg）（30~200）
|height|number|	身高（cm）(100厘米~250厘米)
|group|number|	所属群体（1：社会人士,2：在校学生）
|school|string|	所在（毕业）院校
|education|number|	最高学历（1：初中,2：高中,3：中专,4：大专,5：本科,6：硕士）
|school|number|	所在（毕业）院校
|province_id|number|	省份id
|city_id|number|	城市id
|district_id|number|	区域id
|address|string|	详细地址
|my_introduce|string|自我介绍
|lng|float|	   经度
|lat|float|    纬度
|is_health_cert|number|	是否有健康证（1：有,0：没有）
|email|string|	   邮箱
|is_auth|number |    是否认证
|is_auth_name|string|  是否认证名称
|sex_name|string|   性别名称
|group_name|string|   所属群体名称
|group_name|string|   所属群体名称
|education_name|string|    学历名称
|province_name|string|    省份名称
|city_name|string|    城市名称
|district_name|string|    区域名称
|pic|array|    头像，avatar_big=200，avatar_centre=100，avatar_small=50


### 保存简历

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/UserResume/save

##### 请求示例
```
{
   "token":"4e82ec3056033d80f0986c173dd2625f"
   "name":"刘德华",
   "sex":"1",
   "nation":"汉",
   "weight":"56",
   "height":"158",
   "group":"180",
   "school":"中山大学",
   "education":"4",
   "province_id":"1",
   "city_id":"58",
   "lng": 23.130487,
   "lat": 113.3685,
   "district_id":"254",
   "address"："光大银行大厦"
   "is_health_cert":"1",
   "email":"11@qq.com",
   "my_introduce"：""
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token|string|	Y|	用户令牌
|name|string|	N|	用户名称
|sex|number|	N|	性别（1：男,2：女）
|nation|string|	N|	民族
|weight|number|	N|	体重（kg）
|height|number|	N|	身高（cm）
|group|number|	N|	所属群体（1：社会人士,2：在校学生）
|school|string|	N|	所在（毕业）院校
|education|number|	N|	最高学历（1：初中,2：高中,3：中专,4：大专,5：本科,6：硕士）
|province_id|number|	N|	省份id （province_id，city_id，district_id，address，lng,lat，必须同时非空或同时为空）
|city_id|number|	N|	城市id（province_id，city_id，district_id，address，lng,lat，必须同时非空或同时为空）
|district_id|number|	N|	区域id（province_id，city_id，district_id，address，lng,lat，必须同时非空或同时为空）
|address|string|	N|	详细地址（province_id，city_id，district_id，address，lng,lat，必须同时非空或同时为空）
|lng|float|N|经度（province_id，city_id，district_id，address，lng,lat，必须同时非空或同时为空）
|lat|float|N| 纬度（province_id，city_id，district_id，address，lng,lat，必须同时非空或同时为空）
|is_health_cert|number|	N|	是否有健康证（1：有,0：无）
|email|string|	N|	邮箱
|my_introduce|string|N| 自我介绍

##### 返回示例
```
{"code": 0,"msg": "ok","data": []}
```

------------------------------------------------------------


### 编辑求职意向

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/UserResume/edit_intention

##### 请求示例
```
{
    "token": "f5c2b4ed4bab6987eb88b0ce3262b0c1",
}
```
请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": {
        "job_type": 1,
        "free_times": "21,31",
		"free_times_array" : ["21", "31"],
        "free_start_date": "2016-04-21",
        "free_end_date": "2016-04-21",
        "cat_ids": [
            {
                "cat_id": 2,
                "cat_name": "销售员",
                "sub_cat_ids": [
                    {
                        "sub_cat_id": 25,
                        "sub_cat_name": "纺织服饰"
                    },
                    {
                        "sub_cat_id": 27,
                        "sub_cat_name": "奶豆制品"
                    }
                ]
            },
            {
                "cat_id": 6,
                "cat_name": "其他",
                "sub_cat_ids": []
            },
            {
                "cat_id": 4,
                "cat_name": "服务员",
                "sub_cat_ids": [
                    {
                        "sub_cat_id": 35,
                        "sub_cat_name": "家电"
                    },
                    {
                        "sub_cat_id": 48,
                        "sub_cat_name": "厨师"
                    }
                ]
            }
        ],
		"cat_ids_tile" : ["2-19", "2-21", "3-33", "3-36", "3-38", "52"]
    }
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|job_type|string|	工作类型（0：不限,1：兼职,2：全职）
|free_times|string|	空闲时间
|free_start_date|string|	空闲开始日期
|free_end_date|string|	空闲结束日期
|cat_ids|array|	工作岗位,行业组合
|cat_ids[item].cat_id| int|   岗位id
|cat_ids[item].cat_name| string| 岗位名称
|cat_ids[item].sub_cat_ids| array| 每个岗位的选中行业
|cat_ids[item].sub_cat_ids[item].sub_cat_id|int|  行业id
|cat_ids[item].sub_cat_ids[item].sub_cat_name|string| 行业名称



### 保存求职意向

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/UserResume/save_intention

##### 请求示例
```
{
   "token":"f5c2b4ed4bab6987eb88b0ce3262b0c1"
   "job_type":1,
   "free_start_date": "2016-04-21",
   "free_end_date": "2016-04-21",
   "free_times": "21,31"
   "cat_ids":[
        {
            "cat_id": 2,
            "sub_cat_ids": [21,31]
        },
        {
            "cat_id": 4,
            "sub_cat_ids": [35,48]
        }
    ],
	"cat_ids_tile": "2-19,2-21,3-33,3-36,3-38,52"
   
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token|string|	    Y|	用户令牌
|job_type|int|	    Y|	工作类型(0：不限,1:兼职,2：全职)
|free_start_date|string|N|	空闲开始日期(工作类型为兼职时,空闲时间必选)
|free_end_date|string|N|	空闲结束日期(工作类型为兼职时,空闲时间必选)
|free_times|string|	N|	空闲时间(工作类型为兼职时,空闲时间必选)
|cat_ids|array|	Y|	每个岗位和其自身的行业组合数组，与cat_ids_tile二选一，现在APP用此方法提交数据
|cat_ids[item].cat_id|int| Y|   工作岗位 
|cat_ids[item].sub_cat_ids|array|	N|	工作行业
|cat_ids_tile		|string		|Y		|岗位与行业的数据，与cat_ids二选一，现在H5用此方法提交数据 |


##### 返回示例
```
{"code": 0,"msg": "ok","data": []}
```

------------------------------------------------------------


### 查看诚信认证

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/UserAuth/view

##### 请求示例
```
{
   "token":"f5c2b4ed4bab6987eb88b0ce3262b0c1"   
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token|string|	    Y|	用户令牌




##### 返回示例
```
{
    "code": 0,
    "msg": "获取成功",
    "data": {
        "name": "邓卓",
        "id_card": "440825199012153455",
        "bank_name": "中国银行",
        "bank_account": "622xxxxxxxxxxxx"
        "is_auth": "1"
    }
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|name			|string	| 真实姓名		|
|id_card		|string	| 身份证号		|
|id_card_img	|string	| 身份证号		|
|bank_name		|string	| 开户银行 		|
|bank_account	|string	| 银行卡账号 		|
|is_auth        |int    | 是否认证（1：已认证，0：未认证）




### 保存诚信认证
##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/UserAuth/add

##### 请求示例
```
{
   "token":"f5c2b4ed4bab6987eb88b0ce3262b0c1"
   "name" :"李晓明"
   "id_card":"440825119900614479"
   "id_card_img":file
   "bank_name":"中国银行"
   "bank_account":"622xxxxxxxxxxxx"
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token|string|	    Y|	用户令牌
|name|string|	    Y|	真实姓名
|id_card|string|    Y|  身份证号
|id_card|file|      Y|  身份证正面图片
|bank_name		|file	|Y		| 开户银行 |
|bank_account	|file	|Y		| 银行卡账号 |



##### 返回示例
```
{"code": 0,"msg": "ok","data": []}
```

------------------------------------------------------------

## 兼职工作

### 推荐工作列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Job/recommend

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"city_id": 1,
	"lng": 23.123456,
	"lat": 23.123456,
	"page": 1,
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|N|用户令牌		|
|city_id		|number		|Y|城市id		|
|lng			|number		|N|经度，不传值，空值，0值，返回的距离使用-1表示		|
|lat			|number		|N|纬度，不传值，空值，0值，返回的距离使用-1表示		|
|page			|number		|N|页码（默认1）	|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": 99,
            "title": "金龙鱼促销",
            "cat_id": 4,
            "salary": 12,
            "salary_unit": 1,
            "payment_type": 3,
            "sex": 1,
            "start_date": "04.28",
            "end_date": "07.21",
            "create_time": "2天前",
            "dist": "2.2",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/fuwuyuan.png",
            "work_day": 1,
            "sex_str": "男",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结"
        },
        {
            "id": 83,
            "title": "金龙鱼促销",
            "cat_id": 2,
            "salary": 12,
            "salary_unit": 1,
            "payment_type": 3,
            "sex": 2,
            "start_date": "04.28",
            "end_date": "07.21",
            "create_time": "2016-03-18",
            "dist": "7.2",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/xiaoshouyuan.png",
            "work_day": 8,
            "sex_str": "女",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结"
        }
    ]
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|id|number|工作id(job_id)|
|title|string|标题|
|cat_id|number|分类id|
|salary|number|工资待遇|
|salary_unit|number|工资待遇单位（1：小时,2：天：3：月）|
|payment_type|number|结算方式（1：日结,2：周结,3：月结）|
|sex|number|性别要求（0：不限,1：男,2：女）|
|start_date|string|工作开始日期,格式：03.18|
|end_date|string|工作结束日期,格式：03.26|
|create_time|string|发布日期,格式：2016-03-18|
|dist|string|距离,格式：1.5公里，如果传过来的经纬度没有值，将返回-1表示，请自行判断 |
|cat_icon|string|分类图标|
|work_day|number|工作天数，此参数已无效|
|sex_str|string|性别要求显示|
|salary_unit_str|string|工资待遇单位显示|
|payment_type_str|string|结算方式显示|




### 附近工作列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Job/nearby

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"city_id": 1,
	"lng": 23.123456,
	"lat": 23.123456,
	"page": 1,
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|N|用户令牌		|
|city_id		|number		|Y|城市id		|
|lng			|number		|N|经度，不传值，空值，0值，返回的距离使用-1表示		|
|lat			|number		|N|纬度，不传值，空值，0值，返回的距离使用-1表示		|
|page			|number		|N|页码（默认1）	|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": 99,
            "title": "金龙鱼促销",
            "cat_id": 4,
            "salary": 12,
            "salary_unit": 1,
            "payment_type": 3,
            "sex": 1,
            "start_date": "04.28",
            "end_date": "07.21",
            "create_time": "2天前",
            "dist": "2.2",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/fuwuyuan.png",
            "work_day": 1,
            "sex_str": "男",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结"
        },
        {
            "id": 83,
            "title": "金龙鱼促销",
            "cat_id": 2,
            "salary": 12,
            "salary_unit": 1,
            "payment_type": 3,
            "sex": 2,
            "start_date": "04.28",
            "end_date": "07.21",
            "create_time": "2016-03-18",
            "dist": "7.2",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/xiaoshouyuan.png",
            "work_day": 8,
            "sex_str": "女",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结"
        }
    ]
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|id|number|工作id(job_id)|
|title|string|标题|
|cat_id|number|分类id|
|salary|number|工资待遇|
|salary_unit|number|工资待遇单位（1：小时,2：天：3：月）|
|payment_type|number|结算方式（1：日结,2：周结,3：月结）|
|sex|number|性别要求（0：不限,1：男,2：女）|
|start_date|string|工作开始日期,格式：03.18|
|end_date|string|工作结束日期,格式：03.26|
|create_time|string|发布日期,格式：2016-03-18|
|dist|string|距离,格式：1.5公里，如果传过来的经纬度没有值，将返回-1表示，请自行判断 |
|cat_icon|string|分类图标|
|work_day|number|工作天数，此参数已无效|
|sex_str|string|性别要求显示|
|salary_unit_str|string|工资待遇单位显示|
|payment_type_str|string|结算方式显示|


### 全部工作列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Job/all

##### 请求示例
```
{
	"token": "",
	"city_id": 1,
	"district_ids": "693,692",
	"cat_id": 1,
	"sub_cat_ids": "2,3",
	"lng": 23.123456,
	"lat": 23.123456,
	"order": 1,
	"sex": 1,
	"job_type": 1,
	"page": 1,
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|N|用户令牌				|
|city_id		|number		|Y|城市id				|
|district_ids	|string		|N|区id,多个使用,号隔开	|
|cat_id			|number		|N|一级岗位id			|
|sub_cat_ids	|string		|N|二级岗位id，多个使用,号隔开		|
|lng			|number		|N|经度，不传值，空值，0值，返回的距离使用-1表示	|
|lat			|number		|N|纬度，不传值，空值，0值，返回的距离使用-1表示	|
|order			|number		|N|排序,0默认.1最新发布,2离我最近	|
|sex|			|number		|N|性别.0：不限,1：男,2：女		|
|job_type|		|number		|N|工作类型.0不限1：短期(兼职),2：长期(全职)	|
|page			|number		|N|页码（默认1）			|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": 99,
            "title": "金龙鱼促销",
            "cat_id": 4,
            "salary": 12,
            "salary_unit": 1,
            "payment_type": 3,
            "sex": 1,
            "start_date": "04.28",
            "end_date": "07.21",
            "create_time": "2天前",
            "dist": "2.2",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/fuwuyuan.png",
            "work_day": 1,
            "sex_str": "男",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结"
        },
        {
            "id": 83,
            "title": "金龙鱼促销",
            "cat_id": 2,
            "salary": 12,
            "salary_unit": 1,
            "payment_type": 3,
            "sex": 2,
            "start_date": "04.28",
            "end_date": "07.21",
            "create_time": "2016-03-18",
            "dist": "7.2",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/xiaoshouyuan.png",
            "work_day": 8,
            "sex_str": "女",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结"
        }
    ]
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|id|number|工作id(job_id)|
|title|string|标题|
|cat_id|number|分类id|
|salary|number|工资待遇|
|salary_unit|number|工资待遇单位（1：小时,2：天：3：月）|
|payment_type|number|结算方式（1：日结,2：周结,3：月结）|
|sex|number|性别要求（0：不限,1：男,2：女）|
|start_date|string|工作开始日期,格式：03.08|
|end_date|string|工作结束日期,格式：03.06|
|create_time|string|发布日期,格式：2016-03-18|
|dist|string|距离,格式：1.5公里，如果传过来的经纬度没有值，将返回-1表示，请自行判断 |
|cat_icon|string|分类图标|
|work_day|number|工作天数，此参数已无效|
|sex_str|string|性别要求显示|
|salary_unit_str|string|工资待遇单位显示|
|payment_type_str|string|结算方式显示|



### 搜索工作列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Job/all

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"city_id": 1,
	"lng": 23.123456,
	"lat": 23.123456,
	"title": "金龙鱼"
	"page": 1,
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|N|用户令牌		|
|city_id		|number		|Y|城市id		|
|lng			|number		|N|经度，不传值，空值，0值，返回的距离使用-1表示				|
|lat			|number		|N|纬度，不传值，空值，0值，返回的距离使用-1表示				|
|title			|string		|N|搜索的关键字	|
|page			|number		|N|页码（默认1）	|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": 99,
            "title": "金龙鱼促销",
            "cat_id": 4,
            "salary": 12,
            "salary_unit": 1,
            "payment_type": 3,
            "sex": 1,
            "start_date": "04.28",
            "end_date": "07.21",
            "create_time": "2天前",
            "dist": "2.2",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/fuwuyuan.png",
            "work_day": 1,
            "sex_str": "男",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结"
        },
        {
            "id": 83,
            "title": "金龙鱼促销",
            "cat_id": 2,
            "salary": 12,
            "salary_unit": 1,
            "payment_type": 3,
            "sex": 2,
            "start_date": "04.28",
            "end_date": "07.21",
            "create_time": "2016-03-18",
            "dist": "7.2",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/xiaoshouyuan.png",
            "work_day": 8,
            "sex_str": "女",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结"
        }
    ]
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|id|number|工作id(job_id)|
|title|string|标题|
|cat_id|number|分类id|
|salary|number|工资待遇|
|salary_unit|number|工资待遇单位（1：小时,2：天：3：月）|
|payment_type|number|结算方式（1：日结,2：周结,3：月结）|
|sex|number|性别要求（0：不限,1：男,2：女）|
|start_date|string|工作开始日期,格式：03.18|
|end_date|string|工作结束日期,格式：03.26|
|create_time|string|发布日期,格式：2016-03-18|
|dist|string|距离,格式：1.5公里，如果传过来的经纬度没有值，将返回-1表示，请自行判断 |
|cat_icon|string|分类图标|
|work_day|number|工作天数，此参数已无效|
|sex_str|string|性别要求显示|
|salary_unit_str|string|工资待遇单位显示|
|payment_type_str|string|结算方式显示|




### 工作详情

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Job/detail

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"job_id": 1,
	"referer": "nearby",
	"lng": 23.123456,
	"lat": 23.123456
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|N|用户令牌		|
|job_id			|number		|Y|工作id		|
|referer		|string		|N|来源页，目前只有nearby(附近)和空值（附近之外的所有）		|
|lng			|number		|N|经度			|
|lat			|number		|N|纬度			|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": {
        "job": {
            "id": 86,
            "cid": "1",
            "title": "好又多促销",
            "cat_id": 2,
            "cat_name": "销售员",
            "sub_cat_id": "19",
            "sub_cat_name": "食品",
            "salary": 3,
            "salary_unit": 1,
            "payment_type": 3,
            "commission_info": "我是薪资待遇的提成",
			"payment_remark": "我是薪资待遇的备注",
            "start_date": "03-21",
            "end_date": "03-21",
            "work_time": "",
            "work_remark": "",
            "interview_require": 0,
            "interview_time": "2016-03-21 00:00",
            "interview_addr": "345345",
            "description": "",
            "create_time": "2016-03-21",
            "cat_icon": "http://dev.cxk.com/Public/JobCat/xiaoshouyuan.png",
            "salary_unit_str": "元/小时",
            "payment_type_str": "月结",
            "require": "仅限、17-21岁、127cm以上、大专以上",
            "interview_lng": 0,
            "interview_lat": 0，
			"host_tel": "15954874777"
        },
        "job_space": [
            {
                "id": 239,
                "space_name": "天河北",
                "address": "光大银行",
                "lng": "113.289284",
                "lat": "23.128445",
                "district_name": "天河区",
                "dist": "0.9"
            },
            {
                "id": 240,
                "space_name": "华夏路",
                "address": "富力中心",
                "lng": "113.328247",
                "lat": "23.123152",
                "district_name": "天河区",
                "dist": "3.4"
            }
        ],
        "company": {
            "cid": 1,
            "company_name": "系统",
            "logo": "",			
            "status": 0,
            "job_count": 11,
			"score": 5,
			"comment_count": 5
        },
        "apply_status": false,
        "apply_action": {
            "type": "sign_up",
            "name": "已报名",
			"apply_space_id": 10,
        },
        "collect_status": false
    }
}
```


返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|job					|array		|工作信息				|
|job_space				|array		|工作终端信息				|
|company				|array		|公司信息				|
|apply_status			|boolean	|请使用apply_action。~~是否已申请，true=已申请，false=未申请（未登录统一是未申请）~~	|
|apply_action			|array		|报名按钮相关		|
|apply_action.type		|string		|状态标识，sign_up=已报名，stop=已结束，cut_off=已截止报名，full=已招满，apply=我要报名，** 只有type=apply的时候，才允许报名 **，其它状态请不要提交到报名接口。
|apply_action.name		|string		|状态名称.按钮显示文字				|
|apply_action.apply_space_id	|number		|报名的space_id，只有type=sign_up，已报名的时候才有值				|
|collect_status			|boolean	|是否已收藏，true=已收藏，false=未收藏（未登录统一是未收藏）	|

返回参数说明: ** job **

|参数|数据类型|	说明|
|-|-|-|
|id						|number		|工作id,job_id	|
|cid					|number		|公司id, cid		|
|title					|string		|工作标题		|
|cat_id					|number		|工作岗位一级id	|
|cat_name				|string		|工作岗位一级名称	|
|sub_cat_id				|number		|工作岗位二级id	|
|sub_cat_name			|string		|工作岗位二级名称	|
|salary					|number		|工资待遇		|
|salary_unit			|number		|工资待遇单位（1：小时，2：天：3：月）|
|payment_type			|number		|结算方式（1：日结，2：周结，3：月结）|
|commission_info		|string		|提成			|
|payment_remark			|string		|薪资待遇。备注	|
|start_date				|string		|工作开始时间		|
|end_date				|string		|工作结束日期		|
|work_time				|stirng		|工作时间段		|
|work_remark			|string		|工作时间备注		|
|interview_require		|number		|是否需要面试（0不需要，1需要）	|
|interview_time			|string		|面试时间（如果需要面试）		|
|interview_addr			|string		|面试地址（如果需要面试）		|
|description			|string		|工作说明					|
|create_time			|string		|创建时间					|
|cat_icon				|string		|分类图标					|
|salary_unit_str		|string		|工资待遇单位					|
|payment_type_str		|stirng		|结算方式					|
|require				|string		|工作要求					|
|interview_lng			|number		|面试地址经度					|
|interview_lat			|number		|面试地址纬度					|
|host_tel				|string		|面试负责人电话				|

返回参数说明: ** job_space **

|参数|数据类型|	说明|
|-|-|-|
|id						|number		|终端id,space_id	|
|space_name				|string		|终端名称		|
|district_name			|string		|终端所在区（县）	|
|address				|string		|终端地址		|
|lng					|number		|终端经度		|
|lat					|number		|终端纬度		|
|dist					|string		|与我的距离		|

返回参数说明: ** company **

|参数|数据类型|	说明|
|-|-|-|
|cid					|number		|公司id,cid					|
|company_name			|string		|公司名称					|
|logo					|string		|公司logo绝对地址				|
|status					|number		|是否认证（1：是，0：否）		|
|job_count				|number		|公司正在招聘的数量			|
|score					|number		|评分						|
|comment_count			|number		|评论数						|


### 公司详情与工作列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Job/company_job

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"cid": 1,
	"referer": "nearby",
	"lng": 23.123456,
	"lat": 23.123456,
	"page": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|N|用户令牌		|
|cid			|number		|Y|公司id, cid	|
|referer		|string		|N|来源页，目前只有nearby(附近)和空值（附近之外的所有）		|
|lng			|number		|Y|经度			|
|lat			|number		|Y|纬度			|
|page			|number		|N|页数，默认第1页，只有第一页有company的数据	|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": {
        "company": {
            "cid": 1,
            "company_name": "系统",
            "logo": "",
            "status": 0,
            "brief": "我们的企业非常大",
			"score": 5,
			"comment_count": 5
        },
        "job_list": [
            {
                "id": 66,
                "title": "儿童影院导购",
                "cat_id": 4,
                "salary": 234,
                "salary_unit": 1,
                "payment_type": 3,
                "sex": 2,
                "start_date": "03-18",
                "end_date": "03-25",
                "create_time": "2016-03-08",
                "dist": "12393.0",
                "cat_icon": "http://dev.cxk.com/Public/JobCat/fuwuyuan.png",
                "work_day": 7,
                "sex_str": "女",
                "salary_unit_str": "元/小时",
                "payment_type_str": "月结"
            },
            {
                "id": 76,
                "title": "五险一金迪信通高薪招客服",
                "cat_id": 5,
                "salary": 3,
                "salary_unit": 1,
                "payment_type": 1,
                "sex": 0,
                "start_date": "03-11",
                "end_date": "03-11",
                "create_time": "2016-03-11",
                "dist": "12393.0",
                "cat_icon": "http://dev.cxk.com/Public/JobCat/paidanyuan.png",
                "work_day": 0,
                "sex_str": "",
                "salary_unit_str": "元/小时",
                "payment_type_str": "日结"
            }
        ]
    }
}
```

返回参数说明: ** company (只有page=1时有此数据) **

|参数|数据类型|	说明|
|-|-|-|
|cid					|number		|公司id,cid					|
|company_name			|string		|公司名称					|
|logo					|string		|公司logo绝对地址				|
|status					|number		|是否认证（1：是，0：否）		|
|brief					|string		|公司简介					|
|score					|number		|评分						|
|comment_count			|number		|评论数						|

返回参数说明: ** job_list **

|参数|数据类型|	说明|
|-|-|-|
|id|number|工作id(job_id)|
|title|string|标题|
|cat_id|number|分类id|
|salary|number|工资待遇|
|salary_unit|number|工资待遇单位（1：小时,2：天：3：月）|
|payment_type|number|结算方式（1：日结,2：周结,3：月结）|
|sex|number|性别要求（0：不限,1：男,2：女）|
|start_date|string|工作开始日期,格式：03-18|
|end_date|string|工作结束日期,格式：03-26|
|create_time|string|发布日期,格式：2016-03-18|
|dist|string|距离,格式：1.5公里|
|cat_icon|string|分类图标|
|work_day|number|工作天数|
|sex_str|string|性别要求显示|
|salary_unit_str|string|工资待遇单位显示|
|payment_type_str|string|结算方式显示|

-----------------------------------------------------------------------

## 工作申请

### 申请列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/JobApply/index

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"tab": "apply",
	"page": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|tab			|string		|Y|列表名称（apply：已报名, interview：待面试, hire：已录用, invite：我的邀请）|
|page			|number		|N|页码（默认1）		|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": 79,
            "job_id": 112,
            "job_title": "测试派传单",
            "salary": "10",
            "salary_unit": "元/小时",
            "district_name": "",
            "create_time": "6小时前",
            "cat_icon": "http://api.devcxk.com/Public/JobCat/.png",
            "status": 1,
            "status_name": "已报名",
            "action": [
                {
                    "type": "hire_agree",
                    "name": "同意",
                    "confirm": "",
                    "data": {
                        "act": "status",
                        "apply_id": 79,
                        "status": 43
                    }
                },
                {
                    "type": "hire_reject",
                    "name": "拒绝",
                    "confirm": "确定要拒绝吗？",
                    "data": {
                        "act": "status",
                        "apply_id": 79,
                        "status": 42
                    }
                }
            ]
        },
        {
            "id": 124,
            "job_id": 129,
            "job_title": "测试手机导购员",
            "salary": "100",
            "salary_unit": "元/天",
            "district_name": "天河区",
            "create_time": "昨天",
            "cat_icon": "http://api.devcxk.com/Public/JobCat/.png",
            "status": 1,
            "status_name": "已报名",
            "action": [
                {
                    "type": "cancel",
                    "name": "取消报名",
                    "confirm": "确定要取消报名吗？",
                    "data": {
                        "act": "cancel",
                        "apply_id": 124
                    }
                }
            ]
        },
        {
            "id": 116,
            "job_id": 132,
            "job_title": "派单员",
            "salary": "100",
            "salary_unit": "元/天",
            "district_name": "天河区",
            "create_time": "2016-04-20",
            "cat_icon": "http://api.devcxk.com/Public/JobCat/.png",
            "status": 1,
            "status_name": "已报名",
            "action": []
        }
    ]
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|id				|number		|申请id 或 邀请id		|
|job_id			|number		|工作id				|
|job_title		|string		|工作标题			|
|salary			|string		|工资				|
|salary_unit_str	|string	|工资单位（元/天）	|
|create_time    |string     |报名日期或（距离当前时间）|
|district_name	|string		|区名称				|
|cat_icon		|string		|岗位分类图标URL		|
|status			|number		|状态值，可忽略		|
|status_str		|string		|状态名称			|
|action			|array		|报名状态变更.可进行的操作			|

** action ** 参数说明

|参数|数据类型|	说明|
|-|-|-|
|type			|string		|操作分类(cancel=取消报名、del=删除报名、interview_agree=同意面试、interview_reject=拒绝面试、hire_agree=同意录用、hire_reject=拒绝录用、invite_agree=同意邀请、invite_reject=拒绝邀请			|
|name			|string		|操作名称			|
|confirm		|string		|操作前弹出确认信息，空表示直接操作不需要确认		|
|data			|array		|操作提交的数据		|


### 新增报名

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/JobApply/add

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"space_id": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|space_id			|number		|Y|	工作点id|

##### 返回示例
```
{
	"code" : 0,
	"msg" : "报名成功",
	"data" : {
		"apply_action" : {
			"type" : "sign_up",
			"name" : "已报名",
			"apply_space_id" : 1313
		}
	}
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|apply_action			|array		|报名按钮相关,** 返回此参数的目的是方便动态更新当前工作的按钮 **		|
|apply_action.type		|string		|状态标识，sign_up=已报名，stop=已结束，cut_off=已截止报名，full=已招满，apply=我要报名，** 只有type=apply的时候，才允许报名 **，其它状态请不要提交到报名接口。
|apply_action.name		|string		|状态名称.按钮显示文字				|
|apply_action.apply_space_id	|number		|报名的space_id，只有type=sign_up，已报名的时候才有值				|


### 报名状态变更

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/JobApply/act

##### 请求示例
```
//取消报名
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"act": "cancel",
    "apply_id": 124
}
//删除报名
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"act": "del",
    "apply_id": 124
}
//同意面试(23)、拒绝面试(22)、同意录用(43)、拒绝录用(42)
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"act": "status",
    "apply_id": 124
    "status": 23
}
//同意邀请(2)、拒绝邀请(3)
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"act": "inviteStatus",
    "invite_id": 124
    "status": 2
}
```

请求参数说明 ** 此接口的参数按工作列表返回的 action.data 追加token **

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y	|用户令牌				|
|act			|string		|Y	|操作标识				|
|apply_id		|number		|?	|申请id，部分必须			|
|invite_id		|number		|?	|邀请id，部分必须			|
|status			|number		|?	|变更状态，部分必须				|

##### 返回示例
```
{
	"code" : 0,
	"msg" : "ok",
	"data" : {
		"item" : {
			"id" : 124,
			"job_id" : 129,
			"job_title" : "测试手机导购员",
			"salary" : "100",
			"salary_unit" : "元/天",
			"district_name" : "天河区",
			"create_time" : "昨天",
			"cat_icon" : "http://api.devcxk.com/Public/JobCat/.png",
			"status" : 1,
			"status_name" : "已报名",
			"action" : [{
					"type" : "cancel",
					"name" : "取消报名",
					"confirm" : "确定要取消报名吗？",
					"data" : {
						"act" : "cancel",
						"apply_id" : 124
					}
				}
			]
		}
	}
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|item			|object		| 跟 ** 申请列表 ** 中的返回一样（必须一样），目的是方便客户端动态更新		|


------------------------------------------------------------

## 我的收藏

### 收藏列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/JobCollect/index

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"page": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|page			|number		|N|页码（默认1）|

##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": "3",
            "job_id": "3",
            "title": "小学科学课兼职教师",
            "city_name": "佛山",
            "salary": "3800",
            "salary_unit": "月",
            "status": 1,
            "create_time": "2016-02-24"
        },
        {
            "id": "2",
            "job_id": "2",
            "title": "金龙鱼促销员",
            "city_name": "深圳",
            "salary": "150",
            "salary_unit": "天",
            "status": 1,
            "create_time": "8分钟前"
        },
        {
            "id": "1",
            "job_id": "1",
            "job_title": "绝味鸭脖外场协助",
            "city_name": "广州",
            "salary": "15",
            "salary_unit": "小时",
            "status": 1,
            "create_time": "8分钟前"
        }
    ]
}
```

返回参数说明

|参数|数据类型|	说明|
|-|-|-|
|id|number|	收藏id
|job_id|number|	工作id
|title|string|	工作标题
|salary|number|	工资（单位：元）
|salary_unit|string|	工资单位(小时、天、月)
|status|number|	收藏状态（0：失效,1：有效）
|create_time|string|	发布时间


### 新增收藏

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/JobCollect/add

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"job_id": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|job_id			|number		|Y|工作id|

##### 返回示例
```
{"code": 0, "msg": "ok", "data": []}
```


### 删除收藏

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/JobCollect/delete/user_id/1/collect_id/7

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"collect_id": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|collect_id			|number		|Y|	收藏id|

##### 返回示例
```
{"code": 0, "msg": "ok", "data": []}
```

------------------------------------------------------------

## 企业中心(wx)

### 获取企业中心数据

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Company/info

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f"
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```


### 获取个人关连的企业

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Company/choice

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f"
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```



### 获取企业基本信息

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Company/edit

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f"
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```



### 保存企业基本信息

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Company/save

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f"
    "company_name": "广州麦尔丹"，
    "province_id":"440000",
　　＂city_id＂："440100",
    "district_id":"440106",
    "address":"五山路250号光大银行大厦",
    "profession":"2",
    "brief":"促销推广公司",
    "contact_people":"刘小姐",
    "contact_mobile":"1558469587754"
    "logo":"$_FILE"

}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y|用户令牌		|
|company_name	|string		|y|企业名称		|
|province_id	|number		|N|省份id （province_id，city_id，district_id，address，必须同时非空或同时为空）|
|city_id		|number		|N|城市id （province_id，city_id，district_id，address，必须同时非空或同时为空）|
|district_id	|number		|N|区县id （province_id，city_id，district_id，address，必须同时非空或同时为空）|
|address		|string		|N|详细地址（province_id，city_id，district_id，address，必须同时非空或同时为空）|
|profession		|number		|N|所属行业		|
|brief			|string		|N|公司简介		|
|contact_people	|string		|N|联系人		|
|contact_mobile	|string		|N|联系人电话		|
|logo			|array		|N|logo图片($_FILE)	|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```

------------------------------------------------------------

## 企业工作(wx)


### 获取工作列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/CompanyJob/index

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"tab": "check",
	"page": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y	|用户令牌		|
|tab			|string		|Y	|列表标识,check=待审核，start=进行中，end=已结束		|
|page			|number		|N	|分页,默认1		|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```


### 保存工作状态变更

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/CompanyJob/act

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"act": "del",
	"job_id": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y	|用户令牌	|
|act			|string		|Y	|操作类型,del=删除，cancel=取消		|
|job_id			|number		|Y	|工作id		|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```


### 获取单个工作管理

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/CompanyJob/manage

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"job_id": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y	|用户令牌	|
|job_id			|number		|Y	|工作id		|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```


### 获取单个工作申请列表

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/CompanyJob/apply

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"job_id": 1,
	"tab": "apply_todo",
	"page": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y	|用户令牌	|
|job_id			|number		|Y	|工作id		|
|tab			|string		|Y	|列表标识，apply_todo=报名管理-待筛选，apply_um=报名管理-条件不符，apply_invite=报名管理-我的邀请，interview_todo=面试管理-待面试，interview_reject=面试管理-拒绝面试，interview_um=面试管理-条件不符，interview_absent=放飞机，hire_todo=录用管理-已录用，hire_reject=录用管理-拒绝录用，hire_absent=录用管理-爽约		|
|page			|number		|N	|分页默认1	|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```


### 批量保存申请状态变更

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/CompanyJob/applyAct

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"act": "to_apply_um",
	"ids": "1,2"
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|Y	|用户令牌	|
|act			|string		|Y	|变更类型，描述todo..		|
|ids			|string		|Y	|apply_ids，多个id以,号隔开		|

##### 返回示例 todo
```
{"code": 0, "msg": "ok", "data": []}
```




---------------------------------------------------------

## 获取短信验证码

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/SmsCode/index

##### 请求示例
```
{
    "token": "4e82ec3056033d80f0986c173dd2625f",
	"mobile": 15915761611,
	"type": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|?|用户令牌 （绑定手机时要求传）|
|mobile			|string		|Y|手机号码|
|type			|number		|Y|类型（1：用户注册,2：找回密码,3,绑定手机 ...）|

##### 返回示例
```
{
	"code" : 0,
	"msg" : "ok",
	"data" : {
		"interval" : 60
	}
}
```

##### 返回参数说明
|参数|数据类型|	说明|
|-|-|-|
| interval	| number	| 再次发送时间间隔		|

-----------------------------------------------------

## 获取广告

##### 接口调用请求说明
> HTTP请求方式：GET
> HTTP请求地址：/Ab/index

##### 请求示例
```
{
    "position": "index_loop"
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|position			|string		|?|	位置（eg：首页顶部轮播图："index_loop"）|


##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "name": "开学兼职大礼包",
            "img_url": "http://cx.kissbb.com/Uploads/Ad/app_index1.jpg",
            "link": "https://www.jd.com/"
        },
        {
            "name": "欢庆国庆,我爱兼职",
            "img_url": "http://cx.kissbb.com/Uploads/Ad/app_index2.jpg",
            "link": "https://www.tmall.com/"
        },
        {
            "name": "促销客升级啦,快来抽奖",
            "img_url": "http://cx.kissbb.com/Uploads/Ad/app_index3.jpg",
            "link": "https://www.baidu.com/"
        }
    ]
}
```

##### 返回参数说明
|参数|数据类型|	说明|
|-|-|-|
|name|string|	广告名称
|img_url|string|	图片地址
|link|string|	广告链接

--------------------------------------------



## 获取岗位,行业

> 相当于一个二级分类，岗位是第一级，行业是第二级
> 部分岗位有行业数据（有第二级），部分岗位没有行业数据

### 获取全部岗位和行业

##### 接口调用请求说明
> HTTP请求方式：POST or Get
> HTTP请求地址：/JobCat/all_group

##### 请求示例
```
{}
```

##### 返回示例
```
{
    "code": 0,
    "msg": "获取成功",
    "data": [
        {
            "id": 1,
            "name": "导购",
            "sub": [
                {
                    "id": 8,
                    "name": "食品"
                },
                {
                    "id": 9,
                    "name": "烟酒茶"
                },
                {
                    "id": 10,
                    "name": "粮油"
                },
                {
                    "id": 11,
                    "name": "日用品"
                },
                {
                    "id": 12,
                    "name": "水,饮料"
                },
                {
                    "id": 13,
                    "name": "家电"
                },
                {
                    "id": 14,
                    "name": "纺织服饰"
                },
                {
                    "id": 16,
                    "name": "奶豆制品"
                },
                {
                    "id": 15,
                    "name": "汽车用品"
                },
                {
                    "id": 17,
                    "name": "玩具"
                },
                {
                    "id": 18,
                    "name": "通讯器材"
                }
            ]
        },
        {
            "id": 52,
            "name": "模特",
            "sub": []
        }
    ]
}
```

##### 返回参数说明
|参数|数据类型|	说明|
|-|-|-|
|id			|number		|岗位id		|
|name		|string		|岗位名称	|
|sub		|array		|岗位的行业	|

### 获取所有下级岗位(行业)

##### 接口调用请求说明
> HTTP请求方式：GET
> HTTP请求地址：/JobCat/get_cat

##### 请求示例
```
{
    "parent_id": "4"
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|parent_id			|int		|Y|	0=查询所有岗位，>0=查询岗位下的所有行业|


##### 返回示例
```
{
    "code": 0,
    "msg": "获取成功",
    "data": [
        {
            "id": 41,
            "name": "酒店餐饮"
        },
        {
            "id": 42,
            "name": "休闲娱乐"
        },
        {
            "id": 43,
            "name": "会展"
        }
    ]
}
```

##### 返回参数说明
|参数|数据类型|	说明|
|-|-|-|
|id|int|	岗位,行业id
|name|string|	岗位,行业名称


--------------------------------------------

## 获取地区(删除)

** 此接口已删除,<font style="color:red">使用region.js本地获取</font> **

### 获取城市id *(此接口已删除)*

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Region/get_



##### 请求示例
```
{
    "city_name": "广州市"
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|city_name			|string		|N|	地区名称|


##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": {
        "city_id": 76
    }
}
```

##### 返回参数说明
|参数|数据类型|	说明|
|-|-|-|
|city_id|number|	城市id|


### 获取下级地区 *(此接口已删除)*

##### 接口调用请求说明
> HTTP请求方式：POST
> HTTP请求地址：/Region/get_sub_list

##### 请求示例
```
{
    "parent_id": 1
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|parent_id			|number		|N|	上级地区id（默认：1 ,用1可以获取省份列表）|


##### 返回示例
```
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "region_id": "2",
            "region_name": "北京",
        },
        {
            "region_id": "3",
            "region_name": "安徽",
        },
        {
            "region_id": "4",
            "region_name": "福建",
        },
        {
            "region_id": "5",
            "region_name": "甘肃",
        }
    ]
}
```

##### 返回参数说明
|参数|数据类型|	说明|
|-|-|-|
|region_id|number|	地区id|
|region_name|string|	地区名称|

---------------------------------------------------------------------------------

## 意见反馈
> HTTP请求方式：POST
> HTTP请求地址：/Feedback/add

##### 请求示例
```
{
    "token": "1234"
    "contact": "169554@qq.com",
    "content": "你好"
}
```

请求参数说明

|参数|数据类型|是否必须|描述|
|-|-|-|
|token			|string		|N|令牌|
|contact		|string		|N|联系方式|
|content		|string		|Y|反馈内容|


##### 返回示例
```
{"code": 0, "msg": "ok", "data": []}
```

-----------------------------------------------------





















